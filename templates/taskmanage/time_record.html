{% extends "base/taskmanage_base.html" %}
{% load static %}

{% block head %}
<!-- CSSの読み込み -->
<link rel="stylesheet" href="{% static 'taskmanage/css/time_record.css' %}?v={{ STATIC_VERSION }}" defer>
{% endblock %}

<!-- パーセントかっこの条件文はdjangoによるもの -->

{% block body %}
<h1 id="calendar-title">
    <button id="prevMonth">◀</button>
    <span id="currentMonth">{{ year }}年 {{ month }}月</span>
    <button id="nextMonth">▶</button>
</h1>

<!-- react読み込み -->
<div id="react-root"
    data-year='{{ year }}'
    data-month='{{ month }}'>
</div>

{{ day_info_and_records|json_script:"day-info" }}

<script src="{% static 'bundle.js' %}"></script>

<!-- JavaScriptの読み込み、jsonは|safeをつけないと正常に渡されない? -->
<script>
    const djangoData = {
        day_info_and_records: "{{ day_info_and_records|safe }}",
        year: "{{ year }}",
        month: "{{ month }}"
    };
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'taskmanage/js/time_record.js' %}?v={{ STATIC_VERSION }}" defer></script>

{% endblock %}
